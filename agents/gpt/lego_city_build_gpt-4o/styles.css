*{box-sizing:border-box}html,body{height:100%;margin:0;font-family:Inter,ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;background:#0f1220;color:#e9ecf1}
:root{--panel:#161a2b;--panel-2:#1c2136;--accent:#4cc9f0;--accent-2:#bde0fe;--border:#2a3150;--ok:#58d68d;--warn:#f5b041;--bad:#ec7063}
.app-header,.app-footer{padding:10px 16px;background:#0b0e1a;border-bottom:1px solid var(--border)}.app-footer{border-top:1px solid var(--border);border-bottom:none}
.app-header h1{margin:0;font-size:18px;font-weight:600}.app-header .sub{opacity:.7;font-size:12px;margin-top:4px}
.layout{display:grid;grid-template-columns:280px 1fr 280px;gap:10px;height:calc(100vh - 90px);padding:10px}
.left,.right{display:flex;flex-direction:column;gap:10px}
.panel{background:var(--panel);border:1px solid var(--border);border-radius:8px;padding:12px}
.panel.small{padding:10px}
.panel h2{margin:0 0 10px 0;font-size:14px;font-weight:600;color:var(--accent)}
.toolbar{display:grid;grid-template-columns:1fr 1fr;gap:8px}
.tool{display:flex;align-items:center;gap:8px;padding:8px 10px;border:1px solid var(--border);background:var(--panel-2);color:#e9ecf1;border-radius:8px;cursor:pointer}
.tool.active{outline:2px solid var(--accent)}
.tool .icon{width:16px;height:16px;border-radius:3px;display:inline-block}
.icon-house{background:#ff6b6b}
.icon-road{background:linear-gradient(90deg,#2d3436 0 40%,#dfe6e9 45% 55%,#2d3436 60% 100%)}
.icon-tree{background:#2ecc71}
.icon-water{background:#3498db}
.icon-erase{background:repeating-linear-gradient(45deg,#c0392b 0 6px,#e74c3c 6px 12px)}
.hint{margin-top:8px;font-size:12px;opacity:.8}
.hotkeys{margin-top:6px;font-size:12px;color:var(--accent-2)}
.buttons{display:flex;gap:8px;flex-wrap:wrap}
.buttons button{padding:6px 10px;border-radius:6px;border:1px solid var(--border);background:var(--panel-2);color:#e9ecf1;cursor:pointer}
#ioArea{width:100%;height:100px;margin-top:8px;resize:vertical;background:#0d1020;color:#cfe3ff;border:1px solid var(--border);border-radius:6px;padding:8px}
.canvas-wrap{position:relative;height:100%;background:#0a0d1a;border:1px solid var(--border);border-radius:8px}
#scene{width:100%;height:100%;display:block}
.overlay-msg{position:absolute;left:50%;top:20px;transform:translateX(-50%);background:#1b2238;border:1px solid var(--border);padding:6px 10px;border-radius:6px;color:#e9ecf1;font-size:12px}
.rules,.stats,.help{list-style:none;margin:0;padding:0;display:flex;flex-direction:column;gap:6px}
.rules li{display:flex;align-items:center;gap:8px;padding:6px 8px;border-radius:6px;background:#141a2d;border:1px solid var(--border)}
.rules li.ok{border-color:#214f3a;background:#10241a}
.rules li.warn{border-color:#4f3f21;background:#241e10}
.rules li.bad{border-color:#4f2121;background:#241010}
.rules .dot{width:10px;height:10px;border-radius:50%}
.rules .dot.ok{background:var(--ok)}.rules .dot.warn{background:var(--warn)}.rules .dot.bad{background:var(--bad)}
.stats li{padding:4px 6px;border-left:3px solid var(--accent);background:#12182a}
.app-footer{font-size:12px;opacity:.8}
@media (max-width: 1024px){.layout{grid-template-columns:1fr;grid-template-rows:auto auto auto 1fr auto}.left,.right{order:0}.center{order:1;height:60vh}}
